startup_name: timofeimih.pro
machine_name: timofeimih

mysql_host: "{{ groups['db_servers'] | first }}"
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61343636343866346563393735363665333537393436666339613134346162666161626665326564
          3131326266306665636435636234616138306330656535390a323938613431643937653036363230
          62653531656137333136643066656333356231663363333836346161303761633232323839646136
          6233393333646665340a316265633937633265393761393331313632666363363564663437623031
          35363065346165666630386261613432383633653065386230633133376462646166326135376134
          3036633836383932343461336166353266316132643131393263
mysql_exporter_login: exporter
mysql_exporter_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39636465393261306534383462313934653265333534636464653138356163353630336364303762
          6238373266383864363665383133383431636632353539660a666638333235373361613133633733
          61373661626536343961323033383637396337623763653338393232343632383933353261643430
          6662616430626532650a336536353863663833613731316165623236616434623234623131363261
          6632
grafana_user: timofeimih
grafana_email: timofeimih@gmail.com
grafana_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66666430383038363034383864336563386662386530623433353537376436356132653266313234
          3862356134656466333463393561616531613438633634370a643339303434356432626236633963
          32303933313935346438323334343330313165326566333430353436313434376238623239333665
          3464326465366131640a353763326237306130303036653539306239646666363633343165306361
          3037

dns_forwarders: 
  - 1.1.1.1
  - 8.8.8.8
  - 9.9.9.9

dns_access_rules:
  - 192.168.42.0/23
  - 127.0.0.0/8
  - 172.17.0.0/16

prometheus_jobs:
  - name: linux
    target_port: 9100
    target_group: all
  - name: bind9
    target_port: 9119
    target_group: dns_servers
  - name: mysql
    target_port: 9104
    target_group: db_servers
  - name: nginx
    target_port: 9113
    target_group: web_servers
  - name: influxdb
    target_port: 9424
    target_group: influxdb
  - name: haproxy
    target_port: 9188
    target_group: haproxy
  - name: keepalived
    target_port: 9165
    target_group: keepalived

backup_server_ip: 192.168.42.132
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90
backup_login: backup
backup_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30316232316534646230303135376363303566316263383638646231386164356161666262313736
          6434303264373534633230356531393162353139623463660a376532343562336338376532613166
          31656436646361643165303430393563646137663466626236366438333066363033623532343564
          3339386262343738620a626165653234393131633861323435343237633030666631623165643335
          30646265616364333563663561396636303861313033663661643139326164616231

mysql_replication_login: replication
mysql_replication_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34633965303766323761336237333533363565633637313138396632633064376465326435386434
          3331633462383737616461353030373563306563376466330a343531373930613436376564653865
          65636238316565313035613536613334363237353865383238663937656634636366376334656537
          3930663734643730320a323134346232326137346435373962346264303833663337303034613465
          35653538313431326535643531626537393336366139316132343432333034633165
node_id: "{{ (ansible_port / 100) | int }}"

haproxy_port: 88
grafana_port: 3001
prometheus_port: 9090

keepalived_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63616538383861646639613836626335303833646139633531303064396336353539313564376434
          3666356537666339623736313832633931373361336233640a353662343761346631626232353431
          31366539383163653433363338646332366534343562386532333031646138383161393463313034
          3533633934373865310a633230313131613566346233623934643264643861636561343934366535
          32363765613765633463306566386566643837323931313063653134366239323666393530376336
          35363366613265383730653238643436616538656530323233333536613131303366343665653338
          383562616433666532396536393134356261

dns_update_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36633737383661336633313730393332633661613266313038386461663530303533336261336163
          6362333536653637623234393433376163323831376266380a666233653033396663626466333238
          63303562336266363732646530633735336633306539303431353961353461653363616335356236
          3633366639383133370a646230316431363635333365333966363734313930623331316566383637
          36646662623437396339313163383131326338626366383034383863393839356537336163386133
          6633373331636430383066383030366362643233653664613065

dns_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64363538363632356630393934656365643537313064336332623166653361663639613362383732
          6236333730353862383962323132316336306430336238380a623565323031616230346637346463
          32313438633738363332656462393432623065393135656137326338343962373131326238623864
          6462333239633762320a346330613139616164323234316462653562373735333230613734363537
          39363562656431376139643564636431613163616237373631346431373031653565613263303162
          3239333431666263353662396533373863383061613834333533

containers:
  - name: agama-1
    port: 8001
  - name: agama-2
    port: 8002
  - name: agama-3
    port: 8003
  - name: agama-4
    port: 8004
  - name: agama-5
    port: 8005

max_containers:
  - name: agama-1
    port: 8001
  - name: agama-2
    port: 8002
  - name: agama-3
    port: 8003
  - name: agama-4
    port: 8004
  - name: agama-5
    port: 8005
  - name: agama-6
    port: 8006
  - name: agama-7
    port: 8007
  - name: agama-8
    port: 8008
  - name: agama-9
    port: 8009
  - name: agama-10
    port: 8010